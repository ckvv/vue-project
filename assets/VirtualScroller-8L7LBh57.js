import{d as f,r as S,c as a,o as i,a as p,b as o,n as v,F as _,e as x,f as y,g as b,w as $,v as T,h,i as g,t as d}from"./index-BVImx8lV.js";const R=f({__name:"RecycleScroller2",props:{items:{},itemSize:{},buffer:{}},setup(m){const e=m,r=S(0),n=a(()=>e.items.slice(r.value,r.value+e.buffer)),t=a(()=>e.items.length*e.itemSize),u=a(()=>r.value*e.itemSize);function s(l){const c=l.target;c&&(r.value=c.scrollTop/e.itemSize)}return(l,c)=>(i(),p("div",{class:"recycle-scroller",onScroll:s},[o("div",{style:v({height:`${t.value}px`})},[o("div",{style:v({transform:`translateY(${u.value}px)`})},[(i(!0),p(_,null,x(n.value,z=>y(l.$slots,"default",{item:z})),256))],4)],4)],32))}}),w=f({__name:"RecycleScroller",props:{items:{},itemSize:{},buffer:{}},setup(m){const e=m,r=S(0),n=a(()=>e.items.slice(r.value,r.value+e.buffer)),t=a(()=>({top:r.value*e.itemSize,bottom:Math.max(e.items.length-e.buffer-r.value,0)*e.itemSize}));function u(s){const l=s.target;l&&(r.value=l.scrollTop/e.itemSize)}return(s,l)=>(i(),p("div",{class:"recycle-scroller",onScroll:u},[o("div",{style:v({paddingTop:`${t.value.top}px`,paddingBottom:`${t.value.bottom}px`})},[(i(!0),p(_,null,x(n.value,c=>y(s.$slots,"default",{item:c})),256))],4)],32))}}),V={class:"color-red h-[24px]"},B={class:"color-red h-[24px]"},N=f({__name:"VirtualScroller",setup(m){const e=S(1e4),r=a(()=>Array.from({length:e.value}).map((n,t)=>({id:t,value:Math.random()})));return(n,t)=>{const u=w,s=R;return i(),p(_,null,[t[1]||(t[1]=b(" 虚拟滚动, 你可以打开调试页面查看实际渲染的元素 ")),$(o("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>e.value=l)},null,512),[[T,e.value]]),t[2]||(t[2]=o("h1",null,"RecycleScroller",-1)),h(u,{class:"h-[240px] overflow-auto",buffer:20,items:r.value,"item-size":24},{default:g(({item:l})=>[o("div",V,[o("span",null,d(l.id)+": "+d(l.value),1)])]),_:1},8,["items"]),t[3]||(t[3]=o("h1",null,"RecycleScroller2",-1)),h(s,{class:"h-[240px] overflow-auto",buffer:20,items:r.value,"item-size":24},{default:g(({item:l})=>[o("div",B,[o("span",null,d(l.id)+": "+d(l.value),1)])]),_:1},8,["items"])],64)}}});export{N as default};
